<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ä¸º Hexo åšå®¢æ·»åŠ  Giscus è¯„è®ºç³»ç»Ÿ</title>
    <url>/2026/02/08/add-giscus-comments/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸ºåšå®¢æ·»åŠ è¯„è®ºåŠŸèƒ½æ˜¯å¢å¼ºäº’åŠ¨æ€§çš„é‡è¦ä¸€æ­¥ã€‚è¿™ç¯‡æ–‡ç« è®°å½•æˆ‘ä¸º Hexo + Butterfly åšå®¢é›†æˆ Giscus è¯„è®ºç³»ç»Ÿçš„å®Œæ•´è¿‡ç¨‹ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆé€‰æ‹©-Giscusï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆé€‰æ‹©-Giscusï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰æ‹© Giscusï¼Ÿ"></a>ä¸ºä»€ä¹ˆé€‰æ‹© Giscusï¼Ÿ</h2><p>åœ¨ä¼—å¤šè¯„è®ºç³»ç»Ÿä¸­ï¼ˆDisqusã€Gitalkã€Valine ç­‰ï¼‰ï¼Œæˆ‘é€‰æ‹© Giscus çš„åŸå› ï¼š</p>
<ul>
<li><strong>æ— éœ€æ•°æ®åº“</strong>ï¼šä¸éœ€è¦é¢å¤–çš„åç«¯æœåŠ¡</li>
<li><strong>æ”¯æŒ Markdown</strong>ï¼šè¯„è®ºå¯ä»¥ä½¿ç”¨å®Œæ•´çš„ Markdown è¯­æ³•</li>
<li><strong>ä¸»é¢˜é€‚é…</strong>ï¼šè‡ªåŠ¨é€‚é…ç½‘ç«™çš„æ˜æš—ä¸»é¢˜</li>
<li><strong>å®Œå…¨å…è´¹</strong>ï¼šæ— ä»»ä½•ä½¿ç”¨é™åˆ¶</li>
<li><strong>éšç§å‹å¥½</strong>ï¼šä¸ä¼šè¿½è¸ªç”¨æˆ·æ•°æ®</li>
</ul>
<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><h3 id="1-åˆ›å»ºè¯„è®ºå­˜å‚¨ä»“åº“"><a href="#1-åˆ›å»ºè¯„è®ºå­˜å‚¨ä»“åº“" class="headerlink" title="1. åˆ›å»ºè¯„è®ºå­˜å‚¨ä»“åº“"></a>1. åˆ›å»ºè¯„è®ºå­˜å‚¨ä»“åº“</h3><p>åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªå…¬å¼€ä»“åº“ç”¨äºå­˜å‚¨è¯„è®ºæ•°æ®ã€‚</p>
<p><strong>å…³é”®è®¾ç½®ï¼š</strong></p>
<ul>
<li>ä»“åº“å¿…é¡»æ˜¯ <strong>public</strong>ï¼ˆå…¬å¼€ï¼‰</li>
<li>å¯ç”¨ <strong>Discussions</strong> åŠŸèƒ½ï¼šè¿›å…¥ä»“åº“ Settings â†’ Features â†’ å‹¾é€‰ Discussions</li>
</ul>
<h3 id="2-å®‰è£…-Giscus-App"><a href="#2-å®‰è£…-Giscus-App" class="headerlink" title="2. å®‰è£… Giscus App"></a>2. å®‰è£… Giscus App</h3><p>è®¿é—® <a href="https://github.com/apps/giscus">Giscus App</a> å¹¶å®‰è£…åˆ°ä½ çš„è¯„è®ºä»“åº“ï¼š</p>
<ol>
<li>ç‚¹å‡» â€œInstallâ€</li>
<li>é€‰æ‹© â€œOnly select repositoriesâ€</li>
<li>é€‰ä¸­åˆšæ‰åˆ›å»ºçš„ä»“åº“</li>
<li>æˆæƒå®‰è£…</li>
</ol>
<h2 id="é…ç½®-Giscus"><a href="#é…ç½®-Giscus" class="headerlink" title="é…ç½® Giscus"></a>é…ç½® Giscus</h2><h3 id="3-è·å–é…ç½®å‚æ•°"><a href="#3-è·å–é…ç½®å‚æ•°" class="headerlink" title="3. è·å–é…ç½®å‚æ•°"></a>3. è·å–é…ç½®å‚æ•°</h3><p>è®¿é—® <a href="https://giscus.app/zh-CN">Giscus å®˜ç½‘</a> è¿›è¡Œé…ç½®ï¼š</p>
<p><strong>â‘  ä»“åº“ä¿¡æ¯</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä»“åº“ï¼šç”¨æˆ·å/ä»“åº“å</span><br></pre></td></tr></table></figure>

<p><strong>â‘¡ Discussion åˆ†ç±»</strong></p>
<p>é€‰æ‹© â€œAnnouncementsâ€ ç±»å‹ï¼ˆæ¨èï¼‰ï¼Œè¿™æ ·åªæœ‰ä»“åº“ç»´æŠ¤è€…å¯ä»¥åˆ›å»ºæ–°è®¨è®ºï¼Œä½†æ‰€æœ‰äººéƒ½èƒ½è¯„è®ºã€‚</p>
<p><strong>â‘¢ æ˜ å°„æ–¹å¼</strong></p>
<p>é€‰æ‹© â€œpathnameâ€ï¼ˆè·¯å¾„åï¼‰ï¼Œè¿™æ ·æ¯ç¯‡æ–‡ç« ä¼šæ ¹æ® URL è·¯å¾„è‡ªåŠ¨åˆ›å»ºå¯¹åº”çš„ Discussionã€‚</p>
<p><strong>â‘£ ä¸»é¢˜</strong></p>
<p>é€‰æ‹© â€œpreferred_color_schemeâ€ï¼ˆè·Ÿéšç³»ç»Ÿï¼‰ï¼Œè‡ªåŠ¨é€‚é…æ˜æš—æ¨¡å¼ã€‚</p>
<p><strong>â‘¤ è·å–å…³é”® ID</strong></p>
<p>é…ç½®å®Œæˆåï¼ŒGiscus ä¼šç”Ÿæˆä¸€æ®µä»£ç ï¼Œä»ä¸­æå–ä¸¤ä¸ªå…³é”®å‚æ•°ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://giscus.app/client.js&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-repo</span>=<span class="string">&quot;ç”¨æˆ·å/ä»“åº“å&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-repo-id</span>=<span class="string">&quot;XXXXXXXXXXX&quot;</span>          &lt;!<span class="attr">--</span> <span class="attr">è¿™æ˜¯</span> <span class="attr">repo_id</span> <span class="attr">--</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        data-category=&quot;Announcements&quot;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        data-category-id=&quot;XXXXXXXXXXXX&quot; <span class="comment">&lt;!-- è¿™æ˜¯ category_id --&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        ...&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è®°ä¸‹ <code>data-repo-id</code> å’Œ <code>data-category-id</code> çš„å€¼ã€‚</p>
<h2 id="åœ¨-Butterfly-ä¸»é¢˜ä¸­é…ç½®"><a href="#åœ¨-Butterfly-ä¸»é¢˜ä¸­é…ç½®" class="headerlink" title="åœ¨ Butterfly ä¸»é¢˜ä¸­é…ç½®"></a>åœ¨ Butterfly ä¸»é¢˜ä¸­é…ç½®</h2><h3 id="4-ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶"><a href="#4-ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶" class="headerlink" title="4. ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶"></a>4. ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶</h3><p>æ‰“å¼€ <code>themes/butterfly/_config.yml</code>ï¼Œæ‰¾åˆ° <code>comments</code> éƒ¨åˆ†ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># é€‰æ‹©è¯„è®ºç³»ç»Ÿ</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">giscus</span></span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># lazyload: æ‡’åŠ è½½è¯„è®º</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># count: æ˜¾ç¤ºè¯„è®ºæ•°</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># card_post_count: åœ¨å¡ç‰‡ä¸Šæ˜¾ç¤ºè¯„è®ºæ•°</span></span><br><span class="line">  <span class="attr">card_post_count:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰¾åˆ° <code>giscus</code> é…ç½®æ®µï¼Œå¡«å…¥å‚æ•°ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">giscus:</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">ç”¨æˆ·å/ä»“åº“å</span></span><br><span class="line">  <span class="attr">repo_id:</span> <span class="string">XXXXXXXXXXXXXXXXXX</span></span><br><span class="line">  <span class="attr">category_id:</span> <span class="string">XXXXXXXXXXXXXXXXXX</span></span><br><span class="line">  <span class="attr">theme:</span></span><br><span class="line">    <span class="attr">light:</span> <span class="string">light</span></span><br><span class="line">    <span class="attr">dark:</span> <span class="string">dark</span></span><br><span class="line">  <span class="attr">option:</span></span><br><span class="line">    <span class="attr">data-mapping:</span> <span class="string">pathname</span></span><br><span class="line">    <span class="attr">data-strict:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">data-reactions-enabled:</span> <span class="number">1</span></span><br><span class="line">    <span class="attr">data-emit-metadata:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">data-input-position:</span> <span class="string">bottom</span></span><br><span class="line">    <span class="attr">data-lang:</span> <span class="string">zh-CN</span></span><br><span class="line">    <span class="attr">data-loading:</span> <span class="string">lazy</span></span><br></pre></td></tr></table></figure>

<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>repo</code>: ä½ çš„è¯„è®ºä»“åº“ï¼ˆæ ¼å¼ï¼šç”¨æˆ·å&#x2F;ä»“åº“åï¼‰</li>
<li><code>repo_id</code>: ä» Giscus è·å–çš„ä»“åº“ ID</li>
<li><code>category_id</code>: ä» Giscus è·å–çš„åˆ†ç±» ID</li>
<li><code>data-mapping: pathname</code>: ä½¿ç”¨æ–‡ç« è·¯å¾„ä½œä¸ºæ˜ å°„</li>
<li><code>data-lang: zh-CN</code>: ç•Œé¢è¯­è¨€è®¾ä¸ºä¸­æ–‡</li>
<li><code>data-reactions-enabled: 1</code>: å¯ç”¨è¡¨æƒ…å›åº”åŠŸèƒ½</li>
</ul>
<h3 id="5-é‡æ–°ç”Ÿæˆå¹¶éƒ¨ç½²"><a href="#5-é‡æ–°ç”Ÿæˆå¹¶éƒ¨ç½²" class="headerlink" title="5. é‡æ–°ç”Ÿæˆå¹¶éƒ¨ç½²"></a>5. é‡æ–°ç”Ÿæˆå¹¶éƒ¨ç½²</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>

<h2 id="æ•ˆæœéªŒè¯"><a href="#æ•ˆæœéªŒè¯" class="headerlink" title="æ•ˆæœéªŒè¯"></a>æ•ˆæœéªŒè¯</h2><p>éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ä»»æ„æ–‡ç« é¡µé¢ï¼Œåº”è¯¥èƒ½çœ‹åˆ°ï¼š</p>
<ul>
<li>æ–‡ç« åº•éƒ¨å‡ºç° Giscus è¯„è®ºæ¡†</li>
<li>éœ€è¦ç™»å½• GitHub æ‰èƒ½è¯„è®º</li>
<li>è¯„è®ºä¼šè‡ªåŠ¨åŒæ­¥åˆ°ä»“åº“çš„ Discussions ä¸­</li>
<li>æ”¯æŒ Markdown æ ¼å¼ã€ä»£ç é«˜äº®ã€è¡¨æƒ…å›åº”</li>
</ul>
<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol>
<li><strong>ä»“åº“å¿…é¡»å…¬å¼€</strong>ï¼šç§æœ‰ä»“åº“æ— æ³•ä½¿ç”¨ Giscus</li>
<li><strong>ç¡®ä¿å®‰è£…äº† Giscus App</strong>ï¼šå¦åˆ™è¯„è®ºæ— æ³•åŠ è½½</li>
<li><strong>Discussions å¿…é¡»å¯ç”¨</strong>ï¼šåœ¨ä»“åº“è®¾ç½®ä¸­å¼€å¯</li>
<li><strong>é¦–æ¬¡è¯„è®ºä¼šè‡ªåŠ¨åˆ›å»º Discussion</strong>ï¼šæŒ‰æ–‡ç« è·¯å¾„å‘½å</li>
<li><strong>å¯ä»¥åœ¨ GitHub ä»“åº“ä¸­ç®¡ç†è¯„è®º</strong>ï¼šåˆ é™¤ã€ç¼–è¾‘ã€ç½®é¡¶ç­‰</li>
</ol>
]]></content>
      <categories>
        <category>åšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Giscus</tag>
        <tag>è¯„è®ºç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Hexo + Butterfly æ­å»ºæˆ‘çš„ä¸ªäººåšå®¢</title>
    <url>/2026/02/05/hexo-butterfly-blog-setup/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆæ—©ä¹‹å‰å°±æƒ³æ­ä¸€ä¸ªå±äºè‡ªå·±çš„åšå®¢ï¼Œä½†ä¸€ç›´åœç•™åœ¨â€œæƒ³åšâ€çš„é˜¶æ®µã€‚  </p>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦è®°å½•æˆ‘ä½¿ç”¨ <strong>Hexo + Butterfly</strong> æ­å»ºåšå®¢çš„è¿‡ç¨‹ï¼Œä¸€æ–¹é¢ä½œä¸ºå¤‡å¿˜ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿç®—æ˜¯è¿™ä¸ªåšå®¢çš„èµ·ç‚¹ã€‚</p>
<hr>
<h2 id="å…³äºæŠ€æœ¯é€‰å‹"><a href="#å…³äºæŠ€æœ¯é€‰å‹" class="headerlink" title="å…³äºæŠ€æœ¯é€‰å‹"></a>å…³äºæŠ€æœ¯é€‰å‹</h2><p>ä¸€å¼€å§‹æˆ‘ä¹Ÿè€ƒè™‘è¿‡å¾ˆå¤šæ–¹æ¡ˆï¼Œæ¯”å¦‚ WordPressï¼Œæˆ–è€…å¹²è„†ç”¨å‰ç«¯æ¡†æ¶è‡ªå·±å†™ä¸€å¥—ã€‚<br>ä½†ç»¼åˆè€ƒè™‘ä¹‹åï¼Œè¿˜æ˜¯é€‰æ‹©äº† Hexoã€‚</p>
<p>åŸå› å…¶å®å¾ˆç®€å•ï¼š<br>Hexo æ˜¯é™æ€åšå®¢ï¼Œç»“æ„æ¸…æ™°ï¼Œå†™æ–‡ç« å°±æ˜¯å†™ Markdownï¼Œä¸éœ€è¦å…³å¿ƒæ•°æ®åº“å’Œåç«¯æœåŠ¡ã€‚å¯¹ç›®å‰çš„æˆ‘æ¥è¯´ï¼Œè¿™ç§â€œä¸“æ³¨å†™ä½œæœ¬èº«â€çš„æ–¹å¼æ›´åˆé€‚ã€‚</p>
<p>åœ¨ä¸»é¢˜æ–¹é¢ï¼Œæˆ‘é€‰æ‹©äº† Butterflyã€‚è¿™ä¸ªä¸»é¢˜æ•´ä½“é£æ ¼ç®€æ´ï¼Œé…ç½®é¡¹æ¯”è¾ƒå…¨ï¼Œæ–‡æ¡£ä¹Ÿæ¯”è¾ƒå®Œå–„ï¼Œé€‚åˆé•¿æœŸç»´æŠ¤ã€‚</p>
<hr>
<h2 id="Hexo-çš„å®‰è£…ä¸åˆå§‹åŒ–"><a href="#Hexo-çš„å®‰è£…ä¸åˆå§‹åŒ–" class="headerlink" title="Hexo çš„å®‰è£…ä¸åˆå§‹åŒ–"></a>Hexo çš„å®‰è£…ä¸åˆå§‹åŒ–</h2><p>æœ¬åœ°ç¯å¢ƒå‡†å¤‡å¥½ Node.js å’Œ Git ä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥å®‰è£… Hexo CLIã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<p>æ¥ç€åˆå§‹åŒ–åšå®¢ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo init blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>éšååœ¨ themes ç›®å½•ä¸‹å…‹éš†ä¸»é¢˜ä»“åº“ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/jerryc127/hexo-theme-butterfly.git</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml ä¸­ï¼ŒæŠŠä¸»é¢˜æ”¹æˆï¼š</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ä¾¿æ˜¯å®Œå–„ä¸€äº›åŸºç¡€é…ç½®å’Œé¡µé¢ã€‚</p>
<hr>
<h2 id="æ·»åŠ -Live2D-å°äºº"><a href="#æ·»åŠ -Live2D-å°äºº" class="headerlink" title="æ·»åŠ  Live2D å°äºº"></a>æ·»åŠ  Live2D å°äºº</h2><p>ä¸ºäº†è®©åšå®¢æ›´æœ‰è¶£ä¸€äº›ï¼Œæˆ‘åœ¨å³ä¸‹è§’æ·»åŠ äº†ä¸€ä¸ª Live2D å°äººã€‚Butterfly ä¸»é¢˜æ”¯æŒé€šè¿‡ä»£ç æ³¨å…¥çš„æ–¹å¼å¿«é€Ÿé›†æˆã€‚</p>
<h3 id="é…ç½®æ–¹æ³•"><a href="#é…ç½®æ–¹æ³•" class="headerlink" title="é…ç½®æ–¹æ³•"></a>é…ç½®æ–¹æ³•</h3><p>æ‰“å¼€ <code>themes/butterfly/_config.yml</code>ï¼Œæ‰¾åˆ° <code>inject</code> é…ç½®æ®µï¼Œåœ¨ <code>bottom</code> éƒ¨åˆ†æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="comment"># ... å…¶ä»–é…ç½®</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;&lt;script src=&quot;https://cdn.jsdelivr.net/npm/live2d-widget@3.1.4/lib/L2Dwidget.min.js&quot;&gt;&lt;/script&gt;&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;&lt;script&gt;L2Dwidget.init(&#123; model: &#123; jsonPath: &quot;https://cdn.jsdelivr.net/npm/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json&quot; &#125;, display: &#123; position: &quot;right&quot;, width: 150, height: 300, hOffset: 30, vOffset: -10 &#125;, mobile: &#123; show: true, scale: 0.6 &#125;, react: &#123; opacityDefault: 0.8, opacityOnHover: 0.2 &#125; &#125;);&lt;/script&gt;&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="å‚æ•°è¯´æ˜"><a href="#å‚æ•°è¯´æ˜" class="headerlink" title="å‚æ•°è¯´æ˜"></a>å‚æ•°è¯´æ˜</h3><ul>
<li><strong>model.jsonPath</strong>ï¼šè§’è‰²æ¨¡å‹çš„ CDN åœ°å€ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯ Shizukuï¼ˆæ—¶é›¨ï¼‰æ¨¡å‹</li>
<li><strong>display.position</strong>ï¼šæ˜¾ç¤ºä½ç½®ï¼ˆleft&#x2F;rightï¼‰ï¼Œè¿™é‡Œè®¾ä¸ºå³ä¸‹è§’</li>
<li><strong>display.width&#x2F;height</strong>ï¼šæ¨¡å‹å®½é«˜ï¼ˆåƒç´ ï¼‰</li>
<li><strong>display.hOffset&#x2F;vOffset</strong>ï¼šæ°´å¹³å’Œå‚ç›´åç§»é‡</li>
<li><strong>mobile.show</strong>ï¼šæ˜¯å¦åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤º</li>
<li><strong>mobile.scale</strong>ï¼šç§»åŠ¨ç«¯ç¼©æ”¾æ¯”ä¾‹</li>
<li><strong>react.opacityDefault</strong>ï¼šé»˜è®¤é€æ˜åº¦</li>
<li><strong>react.opacityOnHover</strong>ï¼šé¼ æ ‡æ‚¬åœæ—¶çš„é€æ˜åº¦ï¼ˆ0.2 è¡¨ç¤ºé¼ æ ‡ç§»ä¸Šå»ä¼šå˜æ·¡ï¼‰</li>
</ul>
<h3 id="å¯é€‰æ¨¡å‹"><a href="#å¯é€‰æ¨¡å‹" class="headerlink" title="å¯é€‰æ¨¡å‹"></a>å¯é€‰æ¨¡å‹</h3><p>é™¤äº† Shizukuï¼Œè¿˜å¯ä»¥é€‰æ‹©å…¶ä»–æ¨¡å‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Koharuï¼ˆå°æ˜¥ï¼‰</span></span><br><span class="line"><span class="string">&quot;https://cdn.jsdelivr.net/npm/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Hibikiï¼ˆå“ï¼‰</span></span><br><span class="line"><span class="string">&quot;https://cdn.jsdelivr.net/npm/live2d-widget-model-hibiki@1.0.5/assets/hibiki.model.json&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Mikuï¼ˆåˆéŸ³æœªæ¥ï¼‰</span></span><br><span class="line"><span class="string">&quot;https://cdn.jsdelivr.net/npm/live2d-widget-model-miku@1.0.5/assets/miku.model.json&quot;</span></span><br></pre></td></tr></table></figure>

<p>åªéœ€è¦æ›¿æ¢ <code>jsonPath</code> çš„å€¼å³å¯åˆ‡æ¢è§’è‰²ã€‚</p>
]]></content>
      <categories>
        <category>åšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Butterfly</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>è¯„è®ºç³»ç»Ÿè®¾è®¡ä¸å®ç°</title>
    <url>/2026/02/11/comment-system/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æœ¬æ–‡è®°å½•æˆ‘åœ¨åšå®¢é¡¹ç›®ä¸­å®ç°è¯„è®ºåŠŸèƒ½æ—¶ï¼Œæ¶‰åŠçš„ä¸€äº›ç»†èŠ‚ã€‚</p>
<hr>
<h2 id="ä¸€ã€åç«¯å®ç°"><a href="#ä¸€ã€åç«¯å®ç°" class="headerlink" title="ä¸€ã€åç«¯å®ç°"></a>ä¸€ã€åç«¯å®ç°</h2><h3 id="1-è¯„è®ºå®ä½“è®¾è®¡ï¼ˆCommentï¼‰"><a href="#1-è¯„è®ºå®ä½“è®¾è®¡ï¼ˆCommentï¼‰" class="headerlink" title="1. è¯„è®ºå®ä½“è®¾è®¡ï¼ˆCommentï¼‰"></a>1. è¯„è®ºå®ä½“è®¾è®¡ï¼ˆCommentï¼‰</h3><p>è¯„è®ºè¡¨çš„æ ¸å¿ƒåœ¨äº<strong>è‡ªå¼•ç”¨å…³ç³»</strong>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Comment</span> &#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String content;  <span class="comment">// VARCHAR(1000)</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ManyToOne(fetch = FetchType.EAGER)</span></span><br><span class="line">    <span class="keyword">private</span> Article article;  <span class="comment">// æ‰€å±æ–‡ç« </span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ManyToOne(fetch = FetchType.EAGER)</span></span><br><span class="line">    <span class="keyword">private</span> User author;  <span class="comment">// è¯„è®ºä½œè€…</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ManyToOne(fetch = FetchType.LAZY)</span></span><br><span class="line">    <span class="keyword">private</span> Comment parentComment;  <span class="comment">// çˆ¶è¯„è®ºï¼ˆè‡ªå¼•ç”¨å…³ç³»ï¼‰</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@CreationTimestamp</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createdAt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è®¾è®¡è¦ç‚¹"><a href="#è®¾è®¡è¦ç‚¹" class="headerlink" title="è®¾è®¡è¦ç‚¹"></a>è®¾è®¡è¦ç‚¹</h4><ul>
<li><code>parentComment</code> æŒ‡å‘è‡ªèº«ï¼Œå®ç°è¯„è®ºåµŒå¥—</li>
<li>çˆ¶è¯„è®ºä½¿ç”¨ <code>LAZY</code>ï¼Œé¿å…å¾ªç¯åŠ è½½</li>
<li>ä½œè€…ã€æ–‡ç« ä½¿ç”¨ <code>EAGER</code>ï¼Œé¿å…è®¿é—®æ—¶é¢‘ç¹è§¦å‘å»¶è¿ŸåŠ è½½</li>
<li>ä¸åœ¨å®ä½“ä¸­ç›´æ¥ç»´æŠ¤ childrenï¼Œé¿å… ORM å¤æ‚åº¦å¤±æ§</li>
</ul>
<blockquote>
<p>é«˜å¹¶å‘åœºæ™¯åº”ä½¿ç”¨join fetch æˆ–DTOæŠ•å½±æ¥ç²¾ç¡®æ§åˆ¶æŸ¥è¯¢è¡Œä¸ºã€‚</p>
</blockquote>
<hr>
<h3 id="2-æ•°æ®è®¿é—®å±‚ï¼ˆRepositoryï¼‰"><a href="#2-æ•°æ®è®¿é—®å±‚ï¼ˆRepositoryï¼‰" class="headerlink" title="2. æ•°æ®è®¿é—®å±‚ï¼ˆRepositoryï¼‰"></a>2. æ•°æ®è®¿é—®å±‚ï¼ˆRepositoryï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CommentRepository</span> <span class="keyword">extends</span> <span class="title class_">JpaRepository</span>&lt;Comment, Long&gt; &#123;</span><br><span class="line">    <span class="comment">// æŒ‰æ–‡ç« IDæŸ¥è¯¢ï¼Œå‡åºæ’åˆ—ï¼ˆè€è¯„è®ºåœ¨å‰ï¼‰</span></span><br><span class="line">    Page&lt;Comment&gt; <span class="title function_">findByArticleIdOrderByCreatedAtAsc</span><span class="params">(Long articleId, Pageable pageable)</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æŒ‰ä½œè€…IDæŸ¥è¯¢ï¼ˆç”¨äºä¸ªäººä¸»é¡µï¼‰</span></span><br><span class="line">    Page&lt;Comment&gt; <span class="title function_">findByAuthorId</span><span class="params">(Long authorId, Pageable pageable)</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾å­è¯„è®ºï¼ˆç”¨äºçº§è”åˆ é™¤ï¼‰</span></span><br><span class="line">    List&lt;Comment&gt; <span class="title function_">findByParentCommentId</span><span class="params">(Long parentId)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> ğŸ‘‰ <strong>é€’å½’åˆ é™¤æ—¶ä¾èµ– <code>findByParentCommentId</code> æŸ¥æ‰¾å­èŠ‚ç‚¹</strong></p>
<blockquote>
<p>è¯„è®ºå±äºé«˜é¢‘è¯»å†™è¡¨ï¼Œåç»­åº”åœ¨æ•°æ®åº“å±‚æ·»åŠ å¿…è¦ç´¢å¼•ã€‚</p>
</blockquote>
<hr>
<h3 id="3-è¯„è®ºåˆ›å»ºé€»è¾‘ï¼ˆServiceï¼‰"><a href="#3-è¯„è®ºåˆ›å»ºé€»è¾‘ï¼ˆServiceï¼‰" class="headerlink" title="3. è¯„è®ºåˆ›å»ºé€»è¾‘ï¼ˆServiceï¼‰"></a>3. è¯„è®ºåˆ›å»ºé€»è¾‘ï¼ˆServiceï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> CommentDTO <span class="title function_">createComment</span><span class="params">(Long articleId, Long userId, String content, Long parentId)</span> &#123;</span><br><span class="line">    <span class="comment">// éªŒè¯æ–‡ç« å’Œç”¨æˆ·å­˜åœ¨</span></span><br><span class="line">    <span class="type">Article</span> <span class="variable">article</span> <span class="operator">=</span> articleRepository.findById(articleId)...</span><br><span class="line">    <span class="type">User</span> <span class="variable">author</span> <span class="operator">=</span> userRepository.findById(userId)...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// éªŒè¯å†…å®¹éç©º</span></span><br><span class="line">    <span class="keyword">if</span> (content == <span class="literal">null</span> || content.trim().isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;è¯„è®ºå†…å®¹ä¸èƒ½ä¸ºç©º&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯å›å¤ï¼ŒéªŒè¯çˆ¶è¯„è®º</span></span><br><span class="line">    <span class="keyword">if</span> (parentId != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">Comment</span> <span class="variable">parent</span> <span class="operator">=</span> commentRepository.findById(parentId)...</span><br><span class="line">        <span class="comment">// ç¡®ä¿çˆ¶è¯„è®ºå±äºåŒä¸€ç¯‡æ–‡ç« </span></span><br><span class="line">        <span class="keyword">if</span> (!parent.getArticle().getId().equals(articleId)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;çˆ¶è¯„è®ºä¸æ–‡ç« ä¸åŒ¹é…&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        comment.setParentComment(parent);<span class="comment">// è®¾ç½®parentcomment</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¿å­˜å¹¶è½¬æ¢ä¸ºDTO</span></span><br><span class="line">    comment = commentRepository.save(comment);</span><br><span class="line">    <span class="keyword">return</span> convertToDTO(comment, userId);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ ¸å¿ƒçº¦æŸç‚¹"><a href="#æ ¸å¿ƒçº¦æŸç‚¹" class="headerlink" title="æ ¸å¿ƒçº¦æŸç‚¹"></a>æ ¸å¿ƒçº¦æŸç‚¹</h4><ul>
<li>å›å¤çš„çˆ¶è¯„è®ºå¿…é¡»å±äºåŒä¸€ç¯‡æ–‡ç« </li>
<li>æ‰€æœ‰è¯„è®ºç»Ÿä¸€é€šè¿‡ DTO è¿”å›ï¼Œé¿å…å®ä½“æ³„éœ²</li>
<li>åˆ›å»ºé€»è¾‘ä¸åšå±‚çº§é™åˆ¶ï¼Œå±•ç¤ºé€»è¾‘äº¤ç»™å‰ç«¯</li>
</ul>
<hr>
<h3 id="4-é€’å½’çº§è”åˆ é™¤"><a href="#4-é€’å½’çº§è”åˆ é™¤" class="headerlink" title="4. é€’å½’çº§è”åˆ é™¤"></a>4. é€’å½’çº§è”åˆ é™¤</h3><p>åˆ é™¤ä¸€æ¡è¯„è®ºæ—¶ï¼Œå¿…é¡»åŒæ—¶åˆ é™¤ï¼š</p>
<ol>
<li>æ‰€æœ‰å­è¯„è®ºï¼ˆé€’å½’ï¼‰</li>
<li>æ‰€æœ‰å…³è”çš„ç‚¹èµè®°å½•</li>
<li>ä¿è¯å¤–é”®çº¦æŸä¸æŠ¥é”™</li>
<li>ä¿è¯æ“ä½œåŸå­æ€§</li>
</ol>
<h4 id="å®ç°æ–¹æ¡ˆ"><a href="#å®ç°æ–¹æ¡ˆ" class="headerlink" title="å®ç°æ–¹æ¡ˆ"></a>å®ç°æ–¹æ¡ˆ</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteComment</span><span class="params">(Long commentId, Long userId)</span> &#123;</span><br><span class="line">    <span class="type">Comment</span> <span class="variable">comment</span> <span class="operator">=</span> commentRepository.findById(commentId)...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æƒé™æ£€æŸ¥ï¼šåªèƒ½åˆ é™¤è‡ªå·±çš„è¯„è®º</span></span><br><span class="line">    <span class="keyword">if</span> (!comment.getAuthor().getId().equals(userId)) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;åªèƒ½åˆ é™¤è‡ªå·±çš„è¯„è®º&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    deleteCommentWithChildren(comment);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€’å½’åˆ é™¤å­è¯„è®º</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">deleteCommentWithChildren</span><span class="params">(Comment comment)</span> &#123;</span><br><span class="line">    <span class="comment">// é€’å½’åˆ é™¤æ‰€æœ‰å­è¯„è®º</span></span><br><span class="line">    List&lt;Comment&gt; children = commentRepository.findByParentCommentId(comment.getId());</span><br><span class="line">    <span class="keyword">for</span> (Comment child : children) &#123;</span><br><span class="line">        deleteCommentWithChildren(child);  <span class="comment">// é€’å½’è°ƒç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å…ˆåˆ é™¤è¯¥è¯„è®ºçš„æ‰€æœ‰ç‚¹èµï¼ˆè§£å†³FKçº¦æŸï¼‰</span></span><br><span class="line">    commentLikeRepository.deleteByCommentId(comment.getId());</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æœ€ååˆ é™¤è¯„è®ºæœ¬èº«</span></span><br><span class="line">    commentRepository.deleteById(comment.getId());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è®¾è®¡è¦ç‚¹-1"><a href="#è®¾è®¡è¦ç‚¹-1" class="headerlink" title="è®¾è®¡è¦ç‚¹"></a>è®¾è®¡è¦ç‚¹</h4><ul>
<li>æ·±åº¦ä¼˜å…ˆéå†ï¼ˆDFSï¼‰</li>
<li>æ—¶é—´å¤æ‚åº¦ O(n)</li>
<li>ä½¿ç”¨äº‹åŠ¡ä¿è¯ä¸€è‡´æ€§</li>
<li>æ˜¾å¼æ§åˆ¶åˆ é™¤é¡ºåºï¼Œé¿å…å¤–é”®ï¼ˆFKï¼‰çº¦æŸé—®é¢˜</li>
</ul>
<blockquote>
<p>ä¸ºé¿å…å¤æ‚é€’å½’ä»¥åŠä¿ç•™ä¸Šä¸‹æ–‡ï¼Œå¯è€ƒè™‘é‡‡ç”¨é€»è¾‘åˆ é™¤<code>private boolean deleted;</code>ã€‚</p>
</blockquote>
<hr>
<h2 id="äºŒã€å‰ç«¯å®ç°"><a href="#äºŒã€å‰ç«¯å®ç°" class="headerlink" title="äºŒã€å‰ç«¯å®ç°"></a>äºŒã€å‰ç«¯å®ç°</h2><h3 id="1-æ•°æ®ç»“æ„è®¾è®¡"><a href="#1-æ•°æ®ç»“æ„è®¾è®¡" class="headerlink" title="1. æ•°æ®ç»“æ„è®¾è®¡"></a>1. æ•°æ®ç»“æ„è®¾è®¡</h3><p>å‰ç«¯æ¥æ”¶çš„æ˜¯<strong>å¹³é“ºæ•°ç»„</strong>ï¼Œè‡ªè¡Œæ„å»ºæ ‘ç»“æ„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">comments</span>: [],        <span class="comment">// å¹³é“ºçš„è¯„è®ºåˆ—è¡¨ï¼ˆä»APIè·å–ï¼‰</span></span><br><span class="line">        <span class="attr">commentTree</span>: [],     <span class="comment">// æ ‘å‹ç»“æ„ï¼ˆç”¨äºæ¸²æŸ“ï¼‰</span></span><br><span class="line">        <span class="attr">newCommentContent</span>: <span class="string">&#x27;&#x27;</span>,  <span class="comment">// æ–°è¯„è®ºå†…å®¹</span></span><br><span class="line">        <span class="attr">replyingTo</span>: <span class="literal">null</span>,    <span class="comment">// å½“å‰å›å¤çš„è¯„è®ºå¯¹è±¡</span></span><br><span class="line">        <span class="attr">replyContent</span>: <span class="string">&#x27;&#x27;</span>     <span class="comment">// å›å¤å†…å®¹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>é€‰æ‹©å‰ç«¯æ„å»ºæ ‘ç»“æ„è€Œä¸æ˜¯åç«¯ç›´æ¥é€’å½’ç»„è£…ï¼Œæ˜¯ä¸ºäº†ä¿æŒæ¥å£ç®€å•ã€é¿å…åç«¯é€’å½’æŸ¥è¯¢å¸¦æ¥çš„å¤æ‚åº¦ï¼ŒåŒæ—¶è®©å‰ç«¯æŒæ§å±•ç¤ºç­–ç•¥ã€‚</p>
</blockquote>
<hr>
<h3 id="2-è¯„è®ºæ ‘æ„å»ºä¸å±•å¹³"><a href="#2-è¯„è®ºæ ‘æ„å»ºä¸å±•å¹³" class="headerlink" title="2. è¯„è®ºæ ‘æ„å»ºä¸å±•å¹³"></a>2. è¯„è®ºæ ‘æ„å»ºä¸å±•å¹³</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">buildCommentTree</span>(<span class="params">comments</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">    <span class="keyword">const</span> roots = [];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1. åˆ›å»ºæ˜ å°„è¡¨ï¼Œæ¯ä¸ªè¯„è®ºä½œä¸ºä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    comments.<span class="title function_">forEach</span>(<span class="function"><span class="params">comment</span> =&gt;</span> &#123;</span><br><span class="line">        map.<span class="title function_">set</span>(comment.<span class="property">id</span>, &#123; ...comment, <span class="attr">children</span>: [] &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. æ„å»ºçˆ¶å­å…³ç³»</span></span><br><span class="line">    comments.<span class="title function_">forEach</span>(<span class="function"><span class="params">comment</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> node = map.<span class="title function_">get</span>(comment.<span class="property">id</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é¡¶çº§è¯„è®ºï¼ˆæ²¡æœ‰çˆ¶è¯„è®ºï¼‰</span></span><br><span class="line">        <span class="keyword">if</span> (!comment.<span class="property">parentId</span>) &#123;</span><br><span class="line">            roots.<span class="title function_">push</span>(node);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ‰¾åˆ°æœ€é¡¶å±‚çš„çˆ¶è¯„è®ºï¼ˆå±•å¹³å¤šå±‚åµŒå¥—ï¼‰</span></span><br><span class="line">        <span class="keyword">let</span> parent = map.<span class="title function_">get</span>(comment.<span class="property">parentId</span>);</span><br><span class="line">        <span class="keyword">while</span> (parent &amp;&amp; parent.<span class="property">parentId</span>) &#123;</span><br><span class="line">            parent = map.<span class="title function_">get</span>(parent.<span class="property">parentId</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å°†å½“å‰è¯„è®ºæ·»åŠ åˆ°é¡¶å±‚çˆ¶è¯„è®ºçš„childrenä¸­</span></span><br><span class="line">        <span class="keyword">if</span> (parent) &#123;</span><br><span class="line">            parent.<span class="property">children</span>.<span class="title function_">push</span>(node);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            roots.<span class="title function_">push</span>(node);  <span class="comment">// å­¤å„¿èŠ‚ç‚¹ä½œä¸ºé¡¶çº§è¯„è®º</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> roots;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è®¾è®¡è¦ç‚¹-2"><a href="#è®¾è®¡è¦ç‚¹-2" class="headerlink" title="è®¾è®¡è¦ç‚¹"></a>è®¾è®¡è¦ç‚¹</h4><ul>
<li>æ”¯æŒä»»æ„å±‚çº§å›å¤</li>
<li>UI åªå±•ç¤ºä¸¤å±‚</li>
<li>ä¸éœ€è¦åç«¯é¢å¤–æ¥å£</li>
<li>æ„å»ºå¤æ‚åº¦ O(n)</li>
</ul>
<blockquote>
<p>å‰ç«¯åªå±•ç¤ºä¸¤å±‚ç»“æ„ï¼Œé¿å…å‰ç«¯æ— é™é€’å½’æ¸²æŸ“</p>
</blockquote>
]]></content>
      <categories>
        <category>é¡¹ç›®æ€»ç»“</category>
      </categories>
      <tags>
        <tag>è¯„è®ºç³»ç»Ÿ</tag>
        <tag>Spring Boot</tag>
        <tag>æ•°æ®åº“è®¾è®¡</tag>
      </tags>
  </entry>
</search>
